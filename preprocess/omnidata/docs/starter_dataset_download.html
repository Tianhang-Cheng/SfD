---

title: How to download the starter datset


keywords: fastai
sidebar: home_sidebar

summary: "(in one line)"
description: "(in one line)"
nb_path: "nbs/01_starter_dataset_download.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/01_starter_dataset_download.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Download/Installation">Download/Installation<a class="anchor-link" href="#Download/Installation"> </a></h2><p><strong><code>omnitools.download</code> is a one-line utility for rapidly downloading the starter (&amp; similar) datasets.</strong> For more about the tools themselves (<code>omnitools.download</code> and <code>omnitools.upload</code>), please see the <a href="/omnidata-tools/omnitools.html">dedicated page</a>.</p>
<!-- **_NOTE:_  There's also a complementary `omnitools.upload` that compresses and stores datasets in a compliant format. If you use the omnidata annotator to create a new datset, then `omnitools.upload` might be useful for when you want to distribute that dataset. I.e. other people will be able to use the download tool to download your dataset.** -->

<p>To download the starter dataset, make sure that omnidata-tooling is installed and then run the full download command which will prompt you to accept the component licenses to proceed:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><strong>Run the following:</strong> (Estimated download time for [<em>RGB + 1 Task + Masks</em>]: <strong>1 day</strong>) (<em>Full dataset</em> [30TB]: <strong>5 days</strong>)
<br></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="highlight"><pre><span></span><span class="c1"># Make sure everything is installed</span>
sudo apt-get install aria2
pip install <span class="s1">&#39;omnidata-tools&#39;</span> <span class="c1"># Just to make sure it&#39;s installed</span>

<span class="c1"># Install the &#39;debug&#39; subset of the Replica and Taskonomy components of the dataset</span>
omnitools.download rgb normals point_info <span class="se">\</span>
  --components replica taskonomy <span class="se">\</span>
  --subset debug <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ --agree-all
</pre></div>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You should see the prompt:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="https://epfl-vilab.github.io/omnidata-tools/images/download_example.jpg" alt="drawing" style="max-width: 100%;"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h2><p>Here are some other examples:</p>
<p>Download the full Omnidata dataset and agree to licenses</p>
<div class="highlight"><pre><span></span>omnitools.download all --components all --subset fullplus <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ <span class="se">\</span>
  --connections_total <span class="m">40</span> --agree
</pre></div>
<p>Download Taskonomy only:</p>
<div class="highlight"><pre><span></span>omnitools.download all --components taskonomy --subset fullplus <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ <span class="se">\</span>
  --connections_total <span class="m">40</span> --agree
</pre></div>
<p>Omnidata but only depth and masks and keep the compressed files</p>
<div class="highlight"><pre><span></span>omnitools.download rgb depth mask_valid --components all --subset fullplus <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ <span class="se">\</span>
  --connections_total <span class="m">40</span> --agree
</pre></div>
<p>Download meshes for Clevr</p>
<div class="highlight"><pre><span></span>omnitools.download mesh --components clevr_simple --subset fullplus <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ <span class="se">\</span>
  --dest_compressed ./omnidata_starter_dataset_compresssed --keep_compressed True <span class="se">\</span>
  --connections_total <span class="m">40</span> --agree
</pre></div>
<p>Use multiple workers to download Omnidata--this is for worker 7/100, but do a dryrun</p>
<div class="highlight"><pre><span></span>omnitools.download all --components all --subset fullplus <span class="se">\</span>
  --num_chunk <span class="m">6</span> --num_total_chunks <span class="m">100</span> <span class="se">\</span>
  --dest ./omnidata_starter_dataset/ <span class="se">\</span>
  --connections_total <span class="m">40</span> --agree --dryrun
</pre></div>
<p>...you get the idea :)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Command-line-options">Command-line options<a class="anchor-link" href="#Command-line-options"> </a></h3><p><code>omnitools.download</code> is pretty configurable, and you can choose which comonents/subset/split/tasks to download and extract. The downloader will spawn many workers to then download those compressed files, verify the download against checksums on the server, and unpack them. Here are the available options:</p>
<div class="highlight"><pre><span></span>&gt; omnitools.download -h
</pre></div>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>usage: omnitools.download [-h] [--subset {debug,tiny,medium,full,fullplus}]
                          [--split {train,val,test,all}]
                          [--components {all,replica,taskonomy,gso_in_replica,hypersim,blendedmvs,hm3d,clevr_simple,clevr_complex} [{all,replica,taskonomy,gso_in_replica,hypersim,blendedmvs,hm3d,clevr_simple,clevr_complex} ...]]
                          [--dest DEST] [--dest_compressed DEST_COMPRESSED]
                          [--keep_compressed KEEP_COMPRESSED] [--only_download ONLY_DOWNLOAD]
                          [--max_tries_per_model MAX_TRIES_PER_MODEL]
                          [--connections_total CONNECTIONS_TOTAL]
                          [--connections_per_server_per_download CONNECTIONS_PER_SERVER_PER_DOWNLOAD]
                          [--n_workers N_WORKERS] [--num_chunk NUM_CHUNK]
                          [--num_total_chunks NUM_TOTAL_CHUNKS] [--ignore_checksum IGNORE_CHECKSUM]
                          [--dryrun] [--aria2_uri ARIA2_URI]
                          [--aria2_cmdline_opts ARIA2_CMDLINE_OPTS]
                          [--aria2_create_server ARIA2_CREATE_SERVER] [--aria2_secret ARIA2_SECRET]
                          [--agree_all]
                          domains [domains ...]

Downloads Omnidata starter dataset. --- The data is stored on the remote server in a compressed
format (.tar.gz). This function downloads the compressed and decompresses it. Examples: download rgb
normals point_info --components clevr_simple clevr_complex --connections_total 30

positional arguments:
  domains                                         Domains to download (comma-separated or &#39;all&#39;)

optional arguments:
  -h, --help                                      show this help message and exit
  --subset {debug,tiny,medium,full,fullplus}      Subset to download (default: debug)
  --split {train,val,test,all}                    Split to download (default: all)
  --components {all,replica,taskonomy,gso_in_replica,hypersim,blendedmvs,hm3d,clevr_simple,clevr_complex} [{all,replica,taskonomy,gso_in_replica,hypersim,blendedmvs,hm3d,clevr_simple,clevr_complex} ...]
                                                  Component datasets to download (comma-separated)
                                                  (default: all)
  --dest DEST                                     Where to put the uncompressed data (default:
                                                  uncompressed/)
  --dest_compressed DEST_COMPRESSED               Where to download the compressed data (default:
                                                  compressed/)
  --keep_compressed KEEP_COMPRESSED               Don&#39;t delete compressed files after decompression
                                                  (default: False)
  --only_download ONLY_DOWNLOAD                   Only download compressed data (default: False)
  --max_tries_per_model MAX_TRIES_PER_MODEL       Number of times to try to download model if
                                                  checksum fails. (default: 3)
  --connections_total CONNECTIONS_TOTAL           Number of simultaneous aria2c connections overall
                                                  (note: if not using the RPC server, this is per-
                                                  worker) (default: 8)
  --connections_per_server_per_download CONNECTIONS_PER_SERVER_PER_DOWNLOAD
                                                  Number of simulatneous aria2c connections per
                                                  server per download. Defaults to
                                                  &#39;total_connections&#39; (note: if not using the RPC
                                                  server, this is per-worker)
  --n_workers N_WORKERS                           Number of workers to use (default: 32)
  --num_chunk NUM_CHUNK                           Download the kth slice of the overall dataset
                                                  (default: 0)
  --num_total_chunks NUM_TOTAL_CHUNKS             Download the dataset in N total chunks. Use with &#39;
                                                  --num_chunk&#39; (default: 1)
  --ignore_checksum IGNORE_CHECKSUM               Ignore checksum validation (default: False)
  --dryrun                                        Keep compressed files even after decompressing
                                                  (default: False)
  --aria2_uri ARIA2_URI                           Location of aria2c RPC (if None, use CLI)
                                                  (default: http://localhost:6800)
  --aria2_cmdline_opts ARIA2_CMDLINE_OPTS         Opts to pass to aria2c (default: )
  --aria2_create_server ARIA2_CREATE_SERVER       Create a RPC server at aria2_uri (default: True)
  --aria2_secret ARIA2_SECRET                     Secret for aria2c RPC (default: )
  --agree_all                                     Agree to all license clickwraps. (default: False)
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Citation">Citation<a class="anchor-link" href="#Citation"> </a></h2><p>If you find the code or models useful, please cite our paper:</p>

<pre><code>@inproceedings{eftekhar2021omnidata,
  title={Omnidata: A Scalable Pipeline for Making Multi-Task Mid-Level Vision Datasets From 3D Scans},
  author={Eftekhar, Ainaz and Sax, Alexander and Malik, Jitendra and Zamir, Amir},
  booktitle={Proceedings of the IEEE/CVF International Conference on Computer Vision},
  pages={10786--10796},
  year={2021}
}</code></pre>

</div>
</div>
</div>
</div>


